{% extends "network/layout.html" %}

{% block body %}
    <h1 class="my-2 mx-3">All Posts</h1>
    <br>

    {% if user.is_authenticated %}
        <div class="new-post-form my-3 mx-4">
            <h2>New Post</h2>
            <form action="{% url 'new_post' %}" method="post">
                {% csrf_token %}
                <textarea name="content" class="form-control" id="compose-body" placeholder="Post"></textarea>
                <br>
                <input type="submit" class="btn btn-primary"/>
            </form>
        </div>
    {% endif %}

    <div class="all_posts">
        {% for post in all_posts %}
            <div class="card my-3 mx-4">
              <div class="card-header" style="font-weight: bold; font-size: 18px;">
                {{ post.user }}
              </div>
              <ul class="list-group list-group-flush">
                <li class="list-group-item" style="font-size: 16px;">{{ post.content }}</li>
                <li class="list-group-item" style="font-size: 12px;">Posted on: {{ post.date }}</li>
              </ul>
            </div>
        {% endfor %}
    </div>

    {% if message %}
        <div class="alert alert-danger my-3 mx-4" role="alert">{{ message }}</div>
    {% endif %}
{% endblock %}